"use strict";(()=>{function ot({timelineWidth:X,minimapBarsData:y,minimapHeight:ie,minimapBarHeight:ke,minimapTodayX:ue,ganttScroll:ae,minimapSvg:$,minimapViewport:H,addDocListener:Q}){function fe(){let x=document.querySelector(".gantt-body .gantt-sticky-left"),S=document.querySelector(".gantt-container");x&&S&&S.style.setProperty("--sticky-left-width",x.offsetWidth+"px")}requestAnimationFrame(fe),$&&requestAnimationFrame(()=>{let x=ie/(y.length+1);if(y.forEach((S,ee)=>{let c=document.createElementNS("http://www.w3.org/2000/svg","rect");c.setAttribute("class",S.classes),c.setAttribute("x",(S.startPct*X).toString()),c.setAttribute("y",(x*(ee+.5)).toString()),c.setAttribute("width",Math.max(2,(S.endPct-S.startPct)*X).toString()),c.setAttribute("height",ke.toString()),c.setAttribute("rx","1"),c.setAttribute("fill",S.color),$.insertBefore(c,H)}),ue>0&&ue<X){let S=document.createElementNS("http://www.w3.org/2000/svg","line");S.setAttribute("class","minimap-today"),S.setAttribute("x1",ue.toString()),S.setAttribute("y1","0"),S.setAttribute("x2",ue.toString()),S.setAttribute("y2",ie.toString()),$.insertBefore(S,H)}});function me(){if(!ae||!H)return;let x=Math.max(1,ae.scrollWidth-ae.clientWidth),S=Math.min(1,ae.scrollLeft/x),ee=Math.min(1,ae.clientWidth/ae.scrollWidth),c=Math.max(20,ee*X),se=S*(X-c);H.setAttribute("x",se.toString()),H.setAttribute("width",c.toString())}let J=!1,te=0;function Z(x,S=!1){if(!ae||!$||!H)return;let ee=$.getBoundingClientRect(),se=parseFloat(H.getAttribute("width")||"0")/X*ee.width,U=x.clientX-ee.left;S?U-=te:U-=se/2;let R=Math.max(0,Math.min(1,U/(ee.width-se))),O=Math.max(0,ae.scrollWidth-ae.clientWidth);ae.scrollLeft=R*O}return $&&H&&(H.addEventListener("mousedown",x=>{x.stopPropagation(),J=!0;let S=$.getBoundingClientRect(),c=parseFloat(H.getAttribute("x")||"0")/X*S.width;te=x.clientX-S.left-c}),$.addEventListener("mousedown",x=>{if(x.target===H)return;J=!0;let S=$.getBoundingClientRect();te=parseFloat(H.getAttribute("width")||"0")/100*S.width/2,Z(x,!0)}),Q("mousemove",x=>{J&&Z(x,!0)}),Q("mouseup",()=>{J=!1})),{updateMinimapPosition:fe,updateMinimapViewport:me}}function rt(X){let{vscode:y,menuUndo:ie,menuRedo:ke,addDocListener:ue,closeOnOutsideClick:ae,announce:$,saveState:H,updateUndoRedoButtons:Q,undoStack:fe,redoStack:me,selectedIssues:J,clearSelection:te,allIssueBars:Z,redmineBaseUrl:x,extendedRelationTypes:S,minDateMs:ee,maxDateMs:c,timelineWidth:se,dayWidth:U,barHeight:R,ganttScroll:O,snapToDay:i,focusOnDependencyChain:b,clearFocus:u,getFocusedIssueId:I,scrollToAndHighlight:D,setAllowScrollChange:p}=X;function F(n,a,s){document.querySelector(".relation-picker")?.remove();let r=J.size>1&&J.has(s),l=r?Array.from(J).map(M=>parseInt(M)):[parseInt(s)],L=document.createElement("div");L.className="relation-picker";let A=160,g=180,C=Math.min(n,window.innerWidth-A-10),B=Math.min(a,window.innerHeight-g-10);L.style.left=Math.max(10,C)+"px",L.style.top=Math.max(10,B)+"px";let P=document.createElement("div");P.style.padding="6px 12px",P.style.fontSize="11px",P.style.opacity="0.7",P.textContent=r?l.length+" issues selected":"#"+s,L.appendChild(P),(r?[{label:"Set % Done...",command:"bulkSetDoneRatio",bulk:!0},{label:"Clear Selection",command:"clearSelection",local:!0}]:[{label:"Update Issue...",command:"openIssue"},{label:"Open in Browser",command:"openInBrowser"},{label:"Show in Issues",command:"showInIssues"},{label:"Log Time",command:"logTime"},{label:"Set % Done",command:"setDoneRatio"},{label:"Toggle Auto-update %",command:"toggleAutoUpdate"},{label:"Toggle Ad-hoc Budget",command:"toggleAdHoc"},{label:"Toggle Precedence",command:"togglePrecedence"},{label:"Set Internal Estimate",command:"setInternalEstimate"},{label:"Copy Link",command:"copyLink",local:!0},{label:"Copy URL",command:"copyUrl"}]).forEach(M=>{let Y=document.createElement("button");Y.textContent=M.label,Y.addEventListener("click",async()=>{if(M.command==="copyLink"){let he=document.querySelector('.issue-bar[data-issue-id="'+s+'"]')?.dataset?.subject||"Issue #"+s,Xe=x+"/issues/"+s,Ke='<a href="'+Xe+'">#'+s+" "+he+"</a>",Fe=Xe;try{await navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([Fe],{type:"text/plain"}),"text/html":new Blob([Ke],{type:"text/html"})})]),y.postMessage({command:"showStatus",message:"Copied #"+s+" link"})}catch{await navigator.clipboard.writeText(Fe),y.postMessage({command:"showStatus",message:"Copied #"+s+" URL"})}}else M.local?te():M.bulk?y.postMessage({command:M.command,issueIds:l}):y.postMessage({command:M.command,issueId:parseInt(s)});L.remove()}),L.appendChild(Y)}),document.body.appendChild(L),ae(L)}function T(n){let a=ee+n/se*(c-ee);return new Date(a).toISOString().slice(0,10)}function E(n){let a=ee+n/se*(c-ee)-864e5;return new Date(a).toISOString().slice(0,10)}let ce=document.getElementById("dragDateTooltip"),de=null;function Me(n){let a=new Date(n+"T00:00:00"),s=a.toLocaleDateString("en-US",{month:"short"}),r=a.getDate(),l=a.toLocaleDateString("en-US",{weekday:"short"});return s+" "+r+" ("+l+")"}function ve(n,a){let s=new Date(n+"T00:00:00"),r=new Date(a+"T00:00:00"),l=s.toLocaleDateString("en-US",{month:"short"}),L=r.toLocaleDateString("en-US",{month:"short"});return l===L?l+" "+s.getDate()+"-"+r.getDate():l+" "+s.getDate()+"-"+L+" "+r.getDate()}function Ae(n){ce.textContent=n,ce.style.display="block",de=n}function We(n){n!==de&&(ce.textContent=n,de=n)}function ze(n,a){let s=a-28,r=!1;s<40&&(s=a+20,r=!0),ce.style.left=n+"px",ce.style.top=s+"px",ce.classList.toggle("flipped",r)}function Oe(){ce.style.display="none",de=null}let Se=6;function re(n,a,s,r,l){let L=s>n,g=Math.abs(s-n)<30,C=Math.abs(a-r)<5,B;if(C&&L)B="M "+n+" "+a+" H "+(s-Se);else if(!C&&g){let M=(a+r)/2;B="M "+n+" "+a+" H "+(n+20)+" V "+M+" H "+(s-20)+" V "+r+" H "+(s-Se)}else if(L){let k=(n+s)/2;B="M "+n+" "+a+" H "+k+" V "+r+" H "+(s-Se)}else if(C){let M=a-R;B="M "+n+" "+a+" V "+M+" H "+(s-12)+" V "+r+" H "+(s-Se)}else{let M=(a+r)/2;B="M "+n+" "+a+" V "+M+" H "+(s-12)+" V "+r+" H "+(s-Se)}let P="M "+s+" "+r+" l -"+Se+" -"+Se*.6+" l 0 "+Se*1.2+" Z";return{path:B,arrowHead:P}}function Le(n){let a=[],s='.dependency-arrow[data-from="'+n+'"], .dependency-arrow[data-to="'+n+'"]';return document.querySelectorAll(s).forEach(r=>{let l=r.getAttribute("data-from"),L=r.getAttribute("data-to"),g=(r.getAttribute("class")||"").match(/rel-(\w+)/),C=g?g[1]:"relates",B=["blocks","precedes","finish_to_start","start_to_start","finish_to_finish","start_to_finish"].includes(C),P=document.querySelector('.issue-bar[data-issue-id="'+l+'"]'),k=document.querySelector('.issue-bar[data-issue-id="'+L+'"]');!P||!k||a.push({element:r,fromId:l,toId:L,isScheduling:B,fromBar:P,toBar:k,linePath:r.querySelector(".arrow-line"),hitPath:r.querySelector(".arrow-hit-area"),headPath:r.querySelector(".arrow-head")})}),a}function Ee(n,a,s,r){n.forEach(l=>{let L=l.fromId==a?s:parseFloat(l.fromBar.dataset.startX),A=l.fromId==a?r:parseFloat(l.fromBar.dataset.endX),g=parseFloat(l.fromBar.dataset.centerY),C=l.toId==a?s:parseFloat(l.toBar.dataset.startX),B=l.toId==a?r:parseFloat(l.toBar.dataset.endX),P=parseFloat(l.toBar.dataset.centerY),k,M,Y,De;l.isScheduling?(k=A+2,M=g,Y=C-2,De=P):(k=(L+A)/2,M=g,Y=(C+B)/2,De=P);let{path:he,arrowHead:Xe}=re(k,M,Y,De,l.isScheduling);l.linePath&&l.linePath.setAttribute("d",he),l.hitPath&&l.hitPath.setAttribute("d",he),l.headPath&&l.headPath.setAttribute("d",Xe)})}let we=document.getElementById("dragConfirmOverlay"),qe=document.getElementById("dragConfirmMessage"),Ce=document.getElementById("dragConfirmOk"),je=document.getElementById("dragConfirmCancel"),z=null;function ne(n,a,s){!we||!qe||(qe.textContent=n,z={onConfirm:a,onCancel:s},p(!0),we.style.display="flex",Ce&&Ce.focus())}function Re(){we&&(we.style.display="none"),z=null}function ge(){O&&h&&(O.scrollLeft=h.left,O.scrollTop=h.top),h=null}Ce?.addEventListener("click",()=>{z?.onConfirm&&z.onConfirm(),h=null,Re()}),je?.addEventListener("click",()=>{z?.onCancel&&z.onCancel(),ge(),Re()}),we?.addEventListener("click",n=>{n.target===we&&(z?.onCancel&&z.onCancel(),ge(),Re())}),ue("keydown",n=>{z&&(n.key==="Escape"?(n.preventDefault(),z.onCancel&&z.onCancel(),ge(),Re()):n.key==="Enter"&&(n.preventDefault(),z.onConfirm&&z.onConfirm(),h=null,Re()))});let m=null,h=null,v=!1;document.querySelectorAll(".drag-handle").forEach(n=>{n.addEventListener("mousedown",a=>{a.preventDefault(),a.stopPropagation(),h={left:O?.scrollLeft,top:O?.scrollTop};let s=n.closest(".issue-bar"),r=n.classList.contains("drag-left"),l=parseInt(s.dataset.issueId),L=parseFloat(s.dataset.startX),A=parseFloat(s.dataset.endX),g=s.dataset.startDate||null,C=s.dataset.dueDate||null,B=s.querySelector(".bar-outline"),P=s.querySelector(".bar-main"),k=s.querySelector(".drag-left"),M=s.querySelector(".drag-right");s.classList.add("dragging");let Y=s.querySelector(".bar-labels"),De=Y?.classList.contains("labels-left"),he=Le(l),Xe=s.querySelector(".link-handle");m={issueId:l,isLeft:r,isMove:!1,initialMouseX:a.clientX,startX:L,endX:A,oldStartDate:g,oldDueDate:C,barOutline:B,barMain:P,leftHandle:k,rightHandle:M,bar:s,barLabels:Y,labelsOnLeft:De,connectedArrows:he,linkHandle:Xe};let Ke=r?L:A,Fe=r?g:C;Fe&&(Ae((r?"Start: ":"Due: ")+Me(Fe)),ze(a.clientX,a.clientY))})}),document.querySelectorAll(".bar-outline").forEach(n=>{n.addEventListener("mousedown",a=>{if(a.target.classList.contains("drag-handle")||a.ctrlKey||a.metaKey||a.shiftKey)return;a.preventDefault(),a.stopPropagation(),h={left:O?.scrollLeft,top:O?.scrollTop};let s=n.closest(".issue-bar");if(!s)return;let r=s.dataset.issueId,l=J.size>1&&J.has(r),A=(l?Z.filter(k=>J.has(k.dataset.issueId)):[s]).map(k=>({issueId:k.dataset.issueId,startX:parseFloat(k.dataset.startX),endX:parseFloat(k.dataset.endX),oldStartDate:k.dataset.startDate||null,oldDueDate:k.dataset.dueDate||null,barOutline:k.querySelector(".bar-outline"),barMain:k.querySelector(".bar-main"),leftHandle:k.querySelector(".drag-left"),rightHandle:k.querySelector(".drag-right"),bar:k,barLabels:k.querySelector(".bar-labels"),labelsOnLeft:k.querySelector(".bar-labels")?.classList.contains("labels-left"),connectedArrows:Le(k.dataset.issueId),linkHandle:k.querySelector(".link-handle")}));A.forEach(k=>k.bar.classList.add("dragging"));let g=s.querySelector(".bar-labels"),C=g?.classList.contains("labels-left"),B=Le(r),P=s.querySelector(".link-handle");m={issueId:parseInt(r),isLeft:!1,isMove:!0,isBulkDrag:l,bulkBars:A,initialMouseX:a.clientX,startX:parseFloat(s.dataset.startX),endX:parseFloat(s.dataset.endX),oldStartDate:s.dataset.startDate||null,oldDueDate:s.dataset.dueDate||null,barOutline:n,barMain:s.querySelector(".bar-main"),leftHandle:s.querySelector(".drag-left"),rightHandle:s.querySelector(".drag-right"),bar:s,barLabels:g,labelsOnLeft:C,connectedArrows:B,linkHandle:P},!l&&s.dataset.startDate&&s.dataset.dueDate&&(Ae(ve(s.dataset.startDate,s.dataset.dueDate)),ze(a.clientX,a.clientY))})});let w=null,W=null,N=null;function le(){w&&(w.fromBar.classList.remove("linking-source"),document.querySelectorAll(".link-target").forEach(n=>n.classList.remove("link-target")),W&&(W.remove(),W=null),w=null,N=null,document.body.classList.remove("cursor-crosshair"))}function Be(n,a,s,r){document.querySelector(".relation-picker")?.remove();let l=document.createElement("div");l.className="relation-picker";let L=180,A=200,g=Math.min(n,window.innerWidth-L-10),C=Math.min(a,window.innerHeight-A-10);l.style.left=Math.max(10,g)+"px",l.style.top=Math.max(10,C)+"px";let B=[{value:"blocks",label:"\u{1F6AB} Blocks",cssClass:"rel-line-blocks",tooltip:"Target cannot be closed until this issue is closed"},{value:"precedes",label:"\u27A1\uFE0F Precedes",cssClass:"rel-line-scheduling",tooltip:"This issue must complete before target can start"},{value:"relates",label:"\u{1F517} Relates to",cssClass:"rel-line-informational",tooltip:"Simple link between issues (no constraints)"},{value:"duplicates",label:"\u{1F4CB} Duplicates",cssClass:"rel-line-informational",tooltip:"Closing target will automatically close this issue"},{value:"copied_to",label:"\u{1F4C4} Copied to",cssClass:"rel-line-informational",tooltip:"This issue was copied to create the target issue"}],P=[{value:"finish_to_start",label:"\u23E9 Finish\u2192Start",cssClass:"rel-line-scheduling",tooltip:"Target starts after this issue finishes (FS)"},{value:"start_to_start",label:"\u25B6\uFE0F Start\u2192Start",cssClass:"rel-line-scheduling",tooltip:"Target starts when this issue starts (SS)"},{value:"finish_to_finish",label:"\u23F9\uFE0F Finish\u2192Finish",cssClass:"rel-line-scheduling",tooltip:"Target finishes when this issue finishes (FF)"},{value:"start_to_finish",label:"\u23EA Start\u2192Finish",cssClass:"rel-line-scheduling",tooltip:"Target finishes when this issue starts (SF)"}];(S?[...B,...P]:B).forEach(M=>{let Y=document.createElement("button"),De=document.createElement("span");De.className="color-swatch "+M.cssClass,Y.appendChild(De),Y.appendChild(document.createTextNode(M.label)),Y.title=M.tooltip,Y.addEventListener("click",()=>{H(),y.postMessage({command:"createRelation",issueId:s,targetIssueId:r,relationType:M.value}),l.remove()}),l.appendChild(Y)}),document.body.appendChild(l),ae(l)}let oe=".drag-handle, .link-handle, .bar-outline, .blocks-badge-group, .blocker-badge, .progress-badge-group, .flex-badge-group";document.querySelectorAll(".issue-bar").forEach(n=>{n.addEventListener("click",a=>{a.target.closest(oe)||m||w||v||(I()&&u(),D(n.dataset.issueId))}),n.addEventListener("dblclick",a=>{m||w||v||(a.preventDefault(),b(n.dataset.issueId))})});function He(n,a){if(document.querySelectorAll(".dependency-arrow.selected").forEach(r=>r.classList.remove("selected")),document.querySelectorAll(".arrow-connected").forEach(r=>r.classList.remove("arrow-connected")),n.length===0)return;document.body.classList.add("arrow-selection-mode");let s=new Set;n.forEach(r=>{r.classList.add("selected"),s.add(r.dataset.from),s.add(r.dataset.to)}),s.forEach(r=>{document.querySelectorAll(`.issue-bar[data-issue-id="${r}"], .issue-label[data-issue-id="${r}"]`).forEach(l=>l.classList.add("arrow-connected"))}),$(`Highlighted ${n.length} dependency arrow(s) for #${a}`)}document.querySelectorAll(".blocks-badge-group").forEach(n=>{n.addEventListener("mousedown",a=>{a.preventDefault(),a.stopPropagation()}),n.addEventListener("click",a=>{a.preventDefault(),a.stopPropagation();let s=n.closest(".issue-bar");if(!s)return;let r=s.dataset.issueId,l=Array.from(document.querySelectorAll(`.dependency-arrow[data-from="${r}"]`));He(l,r)})}),document.querySelectorAll(".blocker-badge").forEach(n=>{n.addEventListener("mousedown",a=>{a.preventDefault(),a.stopPropagation()}),n.addEventListener("click",a=>{a.preventDefault(),a.stopPropagation();let s=n.closest(".issue-bar");if(!s)return;let r=s.dataset.issueId,l=Array.from(document.querySelectorAll(`.dependency-arrow[data-to="${r}"]`));He(l,r)})});let j=Array.from(document.querySelectorAll(".issue-bar")),Ve=10;j.forEach((n,a)=>{n.addEventListener("keydown",s=>{if(s.key==="Enter"||s.key===" ")s.preventDefault(),D(n.dataset.issueId);else if(s.key==="ArrowDown"&&a<j.length-1)s.preventDefault(),j[a+1].focus(),$(`Issue ${j[a+1].getAttribute("aria-label")}`);else if(s.key==="ArrowUp"&&a>0)s.preventDefault(),j[a-1].focus(),$(`Issue ${j[a-1].getAttribute("aria-label")}`);else if(s.key==="Home")s.preventDefault(),j[0].focus(),$(`First issue: ${j[0].getAttribute("aria-label")}`);else if(s.key==="End")s.preventDefault(),j[j.length-1].focus(),$(`Last issue: ${j[j.length-1].getAttribute("aria-label")}`);else if(s.key==="PageDown"){s.preventDefault();let r=Math.min(a+Ve,j.length-1);j[r].focus(),$(`Issue ${j[r].getAttribute("aria-label")}`)}else if(s.key==="PageUp"){s.preventDefault();let r=Math.max(a-Ve,0);j[r].focus(),$(`Issue ${j[r].getAttribute("aria-label")}`)}else if(s.key==="Tab"&&s.shiftKey){let r=n.dataset.issueId,l=document.querySelector(`.issue-label[data-issue-id="${r}"]`);l&&(s.preventDefault(),l.focus(),$(`Label for issue #${r}`))}})}),document.querySelectorAll(".link-handle").forEach(n=>{n.addEventListener("mousedown",a=>{a.stopPropagation(),a.preventDefault();let s=n.closest(".issue-bar"),r=parseInt(s.dataset.issueId),l=parseFloat(n.dataset.cx),L=parseFloat(n.dataset.cy);s.classList.add("linking-source"),document.body.classList.add("cursor-crosshair");let A=document.querySelector("#ganttTimeline svg");if(!document.getElementById("temp-arrow-head")){let g=document.createElementNS("http://www.w3.org/2000/svg","defs");g.innerHTML=`
            <marker id="temp-arrow-head" markerWidth="10" markerHeight="7"
                    refX="9" refY="3.5" orient="auto" markerUnits="strokeWidth">
              <polygon points="0 0, 10 3.5, 0 7" fill="var(--vscode-focusBorder)"/>
            </marker>`,A.insertBefore(g,A.firstChild)}W=document.createElementNS("http://www.w3.org/2000/svg","path"),W.classList.add("temp-link-arrow"),W.setAttribute("stroke","var(--vscode-focusBorder)"),W.setAttribute("stroke-width","2"),W.setAttribute("fill","none"),W.setAttribute("marker-end","url(#temp-arrow-head)"),A.appendChild(W),w={fromId:r,fromBar:s,startX:l,startY:L}})}),ue("keydown",n=>{if(n.key==="Escape"){let a=document.querySelector(".relation-picker");if(a){n.stopImmediatePropagation(),a.remove();return}if(w){n.stopImmediatePropagation(),le();return}I()&&(n.stopImmediatePropagation(),u(),$("Focus cleared"))}});let Ge=!1,pe=null;ue("mousemove",n=>{!m&&!w||(pe=n,!Ge&&(Ge=!0,requestAnimationFrame(()=>{Ge=!1;let a=pe;if(a){if(m){let s=a.clientX-m.initialMouseX;if(m.isMove&&m.isBulkDrag&&m.bulkBars){let r=i(s)-i(0);m.bulkBars.forEach(l=>{let L=l.endX-l.startX,A=Math.max(0,Math.min(l.startX+r,se-L)),g=A+L,C=g-A;if(l.barOutline.setAttribute("x",A),l.barOutline.setAttribute("width",C),l.barMain&&(l.barMain.setAttribute("x",A),l.barMain.setAttribute("width",C)),l.leftHandle.setAttribute("x",A),l.rightHandle.setAttribute("x",g-8),l.newStartX=A,l.newEndX=g,l.barLabels){let B=l.labelsOnLeft?A-l.startX:g-l.endX;l.barLabels.setAttribute("transform","translate("+B+", 0)")}l.connectedArrows&&Ee(l.connectedArrows,l.issueId,A,g),l.linkHandle&&l.linkHandle.querySelectorAll("circle").forEach(B=>B.setAttribute("cx",String(g+8)))}),m.snappedDelta=r}else{let r=m.startX,l=m.endX,L=m.endX-m.startX;m.isMove?(r=i(Math.max(0,Math.min(m.startX+s,se-L))),l=r+L):m.isLeft?r=i(Math.max(0,Math.min(m.startX+s,m.endX-U))):l=i(Math.max(m.startX+U,Math.min(m.endX+s,se)));let A=l-r;if(m.barOutline.setAttribute("x",r),m.barOutline.setAttribute("width",A),m.barMain&&(m.barMain.setAttribute("x",r),m.barMain.setAttribute("width",A)),m.leftHandle.setAttribute("x",r),m.rightHandle.setAttribute("x",l-8),m.newStartX=r,m.newEndX=l,m.barLabels){let g=m.labelsOnLeft?r-m.startX:l-m.endX;m.barLabels.setAttribute("transform","translate("+g+", 0)")}if(m.connectedArrows&&Ee(m.connectedArrows,m.issueId,r,l),m.linkHandle&&m.linkHandle.querySelectorAll("circle").forEach(g=>g.setAttribute("cx",String(l+8))),m.isMove&&!m.isBulkDrag){let g=T(r),C=E(l),P=g!==m.oldStartDate?ve(m.oldStartDate,m.oldDueDate)+" \u2192 "+ve(g,C):ve(g,C);We(P),ze(a.clientX,a.clientY)}else if(!m.isMove){let g=m.isLeft?r:l,C=m.isLeft?T(g):E(g);We((m.isLeft?"Start: ":"Due: ")+Me(C)),ze(a.clientX,a.clientY)}}}if(w&&W){let r=document.querySelector("#ganttTimeline svg").getBoundingClientRect(),l=a.clientX-r.left,L=a.clientY-r.top,A=`M ${w.startX} ${w.startY} L ${l} ${L}`;W.setAttribute("d",A);let g=document.elementFromPoint(a.clientX,a.clientY)?.closest(".issue-bar");N&&N!==g&&N.classList.remove("link-target"),g&&g!==w.fromBar?(g.classList.add("link-target"),N=g):N=null}}})))});function Te(n){if(!n)return;let{bar:a,barOutline:s,barMain:r,leftHandle:l,rightHandle:L,barLabels:A,startX:g,endX:C,connectedArrows:B,issueId:P,linkHandle:k}=n,M=C-g;s&&(s.setAttribute("x",String(g)),s.setAttribute("width",String(M))),r&&(r.setAttribute("x",String(g)),r.setAttribute("width",String(M))),l&&l.setAttribute("x",String(g)),L&&L.setAttribute("x",String(C-8)),A&&A.removeAttribute("transform"),B&&B.length>0&&Ee(B,P,g,C),k&&k.querySelectorAll("circle").forEach(Y=>Y.setAttribute("cx",String(C+8))),a&&a.classList.remove("dragging")}ue("mouseup",n=>{if(m){let{issueId:a,isLeft:s,isMove:r,isBulkDrag:l,bulkBars:L,newStartX:A,newEndX:g,bar:C,startX:B,endX:P,oldStartDate:k,oldDueDate:M,barOutline:Y,barMain:De,leftHandle:he,rightHandle:Xe,barLabels:Ke,connectedArrows:Fe}=m,xe={...m};if(l&&L&&r){L.forEach(K=>K.bar.classList.remove("dragging"));let ye=[];if(L.forEach(K=>{if(K.newStartX!==void 0&&K.newStartX!==K.startX){let _=T(K.newStartX),Ie=E(K.newEndX);(_!==K.oldStartDate||Ie!==K.oldDueDate)&&ye.push({issueId:parseInt(K.issueId),oldStartDate:K.oldStartDate,oldDueDate:K.oldDueDate,newStartDate:_,newDueDate:Ie,barData:K})}}),ye.length>0){Oe();let K="Move "+ye.length+" issue(s) to new dates?";ne(K,()=>{fe.push({type:"bulk",changes:ye.map(_=>({issueId:_.issueId,oldStartDate:_.oldStartDate,oldDueDate:_.oldDueDate,newStartDate:_.newStartDate,newDueDate:_.newDueDate}))}),me.length=0,Q(),H(),ye.forEach(_=>{y.postMessage({command:"updateDates",issueId:_.issueId,startDate:_.newStartDate,dueDate:_.newDueDate})})},()=>{L.forEach(_=>Te(_))})}else Oe(),L.forEach(K=>Te(K));m=null,v=!0,requestAnimationFrame(()=>v=!1);return}if(C.classList.remove("dragging"),Oe(),A!==void 0||g!==void 0){let ye=null,K=null;r?A!==B&&(ye=T(A),K=E(g)):s?ye=A!==B?T(A):null:K=g!==P?E(g):null;let _=ye&&ye!==k?ye:null,Ie=K&&K!==M?K:null;if(_||Ie){let Ue="Issue #"+a+": ";_&&Ie?Ue+=ve(k,M)+" \u2192 "+ve(_,Ie):_?Ue+="Start: "+Me(k)+" \u2192 "+Me(_):Ue+="Due: "+Me(M)+" \u2192 "+Me(Ie),ne(Ue,()=>{fe.push({issueId:a,oldStartDate:_?k:null,oldDueDate:Ie?M:null,newStartDate:_,newDueDate:Ie}),me.length=0,Q(),H(),y.postMessage({command:"updateDates",issueId:a,startDate:_,dueDate:Ie})},()=>{Te(xe)})}else Te(xe)}else Te(xe);m=null,v=!0,requestAnimationFrame(()=>v=!1)}if(w){let a=w.fromId;if(N){let s=parseInt(N.dataset.issueId);a!==s&&Be(n.clientX,n.clientY,a,s)}le()}z||ge()}),ie?.addEventListener("click",()=>{if(ie.hasAttribute("disabled")||fe.length===0)return;let n=fe.pop();me.push(n),Q(),H(),n.type==="relation"?n.operation==="create"?y.postMessage({command:"undoRelation",operation:"delete",relationId:n.relationId,datesBefore:n.datesBefore}):y.postMessage({command:"undoRelation",operation:"create",issueId:n.issueId,targetIssueId:n.targetIssueId,relationType:n.relationType}):n.type==="bulk"?n.changes.forEach(a=>{y.postMessage({command:"updateDates",issueId:a.issueId,startDate:a.oldStartDate,dueDate:a.oldDueDate})}):y.postMessage({command:"updateDates",issueId:n.issueId,startDate:n.oldStartDate,dueDate:n.oldDueDate})}),ke?.addEventListener("click",()=>{if(ke.hasAttribute("disabled")||me.length===0)return;let n=me.pop();fe.push(n),Q(),H(),n.type==="relation"?n.operation==="create"?y.postMessage({command:"redoRelation",operation:"create",issueId:n.issueId,targetIssueId:n.targetIssueId,relationType:n.relationType}):y.postMessage({command:"redoRelation",operation:"delete",relationId:n.relationId}):n.type==="bulk"?n.changes.forEach(a=>{y.postMessage({command:"updateDates",issueId:a.issueId,startDate:a.newStartDate,dueDate:a.newDueDate})}):y.postMessage({command:"updateDates",issueId:n.issueId,startDate:n.newStartDate,dueDate:n.newDueDate})})}function lt(X){let{vscode:y,addDocListener:ie,addWinListener:ke,announce:ue,barHeight:ae,selectedCollapseKey:$}=X;document.querySelectorAll(".collapse-toggle").forEach(i=>{i.addEventListener("click",b=>{b.stopPropagation();let I=i.closest("[data-collapse-key]")?.dataset.collapseKey;I&&O(I)})}),document.getElementById("menuExpand")?.addEventListener("click",()=>{let b=document.getElementById("ganttScroll")?.dataset.allExpandableKeys,u=b?JSON.parse(b):[];y.postMessage({command:"expandAll",keys:u})}),document.getElementById("menuCollapse")?.addEventListener("click",()=>{y.postMessage({command:"collapseAll"})});let H=Array.from(document.querySelectorAll(".project-label, .issue-label, .time-group-label")),Q=null,fe=$??null;function me(i){return!i.classList.contains("gantt-row-hidden")&&i.getAttribute("visibility")!=="hidden"}function J(i,b){let u=i+b;for(;u>=0&&u<H.length;){if(me(H[u]))return{label:H[u],index:u};u+=b}return null}function te(i){let b=document.getElementById("ganttScroll"),u=document.querySelector(".gantt-header-row");if(!b||!i)return;let I=u?.getBoundingClientRect().height||60,D=i.closest(".gantt-row");if(!D)return;let p=D.getBoundingClientRect().top,F=D.getBoundingClientRect().height,T=b.getBoundingClientRect(),E=T.top+I,ce=T.bottom;p<E?b.scrollBy({top:p-E-4,behavior:"smooth"}):p+F>ce&&b.scrollBy({top:p+F-ce+4,behavior:"smooth"})}function Z(i,b=!1,u=!1,I=!1){Q&&Q.classList.remove("active"),Q=i,i&&(i.classList.add("active"),I||i.focus(),u&&te(i),b||y.postMessage({command:"setSelectedKey",collapseKey:i.dataset.collapseKey}))}ke("focus",()=>{Q&&me(Q)&&Q.focus()}),ie("keydown",i=>{i.key==="Escape"&&Q&&(Q.classList.remove("active"),Q.blur(),Q=null,y.postMessage({command:"setSelectedKey",collapseKey:null}))});let x=new Map,S=new Map;function ee(){x.clear(),document.querySelectorAll("[data-collapse-key][data-original-y]").forEach(b=>{let u=b.dataset.collapseKey,I=parseFloat(b.dataset.originalY);x.has(u)||x.set(u,{originalY:I,elements:[]}),x.get(u).elements.push(b)})}function c(){S.clear(),document.querySelectorAll("[data-collapse-key][data-parent-key]").forEach(b=>{let u=b.dataset.collapseKey;if(S.has(u))return;let I=[],D=b.dataset.parentKey;for(;D;)I.push(D),D=document.querySelector('[data-collapse-key="'+D+'"]')?.dataset.parentKey||null;S.set(u,I)})}ee(),c();function se(i,b){b?(i.setAttribute("visibility","hidden"),i.classList.add("gantt-row-hidden")):(i.removeAttribute("visibility"),i.classList.remove("gantt-row-hidden"))}function U(i){let b=[];return S.forEach((u,I)=>{u.includes(i)&&b.push(I)}),b}function R(i){let b=[];return S.forEach((u,I)=>{let D=u.indexOf(i);if(D===-1)return;let p=!0;for(let F=0;F<D;F++){let T=u[F],E=document.querySelector('[data-collapse-key="'+T+'"].project-label, [data-collapse-key="'+T+'"].issue-label, [data-collapse-key="'+T+'"].time-group-label');if(!E||E.dataset.expanded!=="true"){p=!1;break}}p&&b.push(I)}),b}function O(i,b){let u=document.querySelector('[data-collapse-key="'+i+'"].project-label, [data-collapse-key="'+i+'"].time-group-label, [data-collapse-key="'+i+'"].issue-label');if(!u||u.dataset.hasChildren!=="true")return;let I=u.dataset.expanded==="true",D=b==="expand"?!0:b==="collapse"?!1:!I;if(D===I)return;u.dataset.expanded=D?"true":"false";let p=u.querySelector(".collapse-toggle");p&&p.classList.toggle("expanded",D);let F=U(i),T=D?R(i):[];if(F.length===0){y.postMessage({command:"collapseStateSync",collapseKey:i,isExpanded:D});return}let E=new Set(F),ce=new Set(T),de=x.get(i),Me=de?.originalY??0,ve=new Set,Ae=0,We=0,Oe=D?T:R(i),Se=new Set(Oe);if(document.querySelectorAll(".zebra-stripe").forEach(h=>{let v=JSON.parse(h.dataset.rowContributions||"{}");i in v&&We===0&&(We=parseFloat(h.dataset.originalY||"0"));for(let[w,W]of Object.entries(v))Se.has(w)&&!ve.has(w)&&(Ae+=parseFloat(W),ve.add(w))}),Ae===0&&Oe.length>0){y.postMessage({command:"collapseStateSync",collapseKey:i,isExpanded:D}),y.postMessage({command:"requestRerender"});return}let re=D?Ae:-Ae,Le=Me;if(de&&de.elements.length>0){let v=(de.elements[0].getAttribute("transform")||"").match(/translate\([^,]+,\s*([-\d.]+)/);v&&(Le=parseFloat(v[1]))}let Ee=Le+ae;D?T.forEach(h=>{let v=x.get(h);v&&(v.elements.forEach(w=>{let N=(w.getAttribute("transform")||"").match(/translate\(([-\d.]+)/),le=N?N[1]:"0";w.setAttribute("transform","translate("+le+", "+Ee+")"),se(w,!1)}),Ee+=ae)}):F.forEach(h=>{let v=x.get(h);v&&v.elements.forEach(w=>{se(w,!0)})}),x.forEach(({originalY:h,elements:v},w)=>{h>Me&&!E.has(w)&&v.forEach(W=>{let N=W.getAttribute("transform")||"",le=N.match(/translate\(([-\d.]+)/),Be=le?le[1]:"0",oe=N.match(/translate\([^,]+,\s*([-\d.]+)/),j=(oe?parseFloat(oe[1]):h)+re;W.setAttribute("transform","translate("+Be+", "+j+")")})});let we=document.querySelector(".gantt-labels svg");if(we){let v=parseFloat(we.getAttribute("height")||"0")+re;we.setAttribute("height",String(v))}[".gantt-col-status svg",".gantt-col-id svg",".gantt-col-start svg",".gantt-col-due svg",".gantt-col-assignee svg"].forEach(h=>{let v=document.querySelector(h);if(!v)return;let W=parseFloat(v.getAttribute("height")||"0")+re;v.setAttribute("height",String(W))});let Ce=document.querySelector(".gantt-timeline svg");if(Ce){let v=parseFloat(Ce.getAttribute("height")||"0")+re;Ce.setAttribute("height",v)}let je=new Set;document.querySelectorAll('.project-label[data-has-children="true"], .time-group-label[data-has-children="true"], .issue-label[data-has-children="true"]').forEach(h=>{h.dataset.expanded==="false"&&je.add(h.dataset.collapseKey)});let z=new Map,ne=document.querySelectorAll(".zebra-stripe");ne.forEach(h=>{let v=parseFloat(h.dataset.originalY||"0");if(z.has(v))return;let w=JSON.parse(h.dataset.rowContributions||"{}"),W=Object.keys(w),N=W.length>0&&W.every(oe=>E.has(oe)),le=W.some(oe=>E.has(oe)),Be=v>We;if(N)z.set(v,{action:"toggle-visibility",hide:!D});else if(le)if(D){let oe=0;for(let[He,j]of Object.entries(w))(!E.has(He)||ce.has(He))&&(oe+=parseFloat(j));z.set(v,{action:"expand",newHeight:oe})}else{let oe=0;for(let[He,j]of Object.entries(w))E.has(He)||(oe+=parseFloat(j));z.set(v,{action:"shrink",newHeight:oe})}else if(Be){let oe=parseFloat(h.getAttribute("y")||String(v));z.set(v,{action:"shift",newY:oe+re})}}),ne.forEach(h=>{let v=parseFloat(h.dataset.originalY||"0"),w=z.get(v);if(w)switch(w.action){case"toggle-visibility":se(h,w.hide);break;case"shrink":h.setAttribute("height",String(w.newHeight));break;case"expand":h.setAttribute("height",String(w.newHeight));break;case"shift":h.setAttribute("y",String(w.newY));break}});let Re=Array.from(document.querySelectorAll(".zebra-stripe")).filter(h=>h.getAttribute("visibility")!=="hidden"),ge=new Map;Re.forEach(h=>{let v=parseFloat(h.getAttribute("y")||"0");ge.has(v)||ge.set(v,[]),ge.get(v).push(h)}),Array.from(ge.keys()).sort((h,v)=>h-v).forEach((h,v)=>{let w=v%2===0?"0.03":"0.06";ge.get(h).forEach(W=>W.setAttribute("opacity",w))}),document.querySelectorAll(".indent-guide-line").forEach(h=>{let v=h.dataset.forParent,w=S.get(v)||[],W=je.has(v)||w.some(N=>je.has(N));if(se(h,W),!W){let N=x.get(v);if(N&&N.originalY>Me){let le=parseFloat(h.getAttribute("y1")||"0"),Be=parseFloat(h.getAttribute("y2")||"0");h.setAttribute("y1",le+re),h.setAttribute("y2",Be+re)}}}),document.querySelectorAll(".dependency-arrow").forEach(h=>{let v=h.dataset.from,w=h.dataset.to,W=document.querySelector('.issue-bar[data-issue-id="'+v+'"]'),N=document.querySelector('.issue-bar[data-issue-id="'+w+'"]'),le=W?.classList.contains("gantt-row-hidden"),Be=N?.classList.contains("gantt-row-hidden");se(h,le||Be)}),y.postMessage({command:"collapseStateSync",collapseKey:i,isExpanded:D})}if(fe){let i=H.find(b=>b.dataset.collapseKey===fe);i&&Z(i,!0)}H.forEach((i,b)=>{i.addEventListener("click",u=>{if(u.target.closest?.(".collapse-toggle")||u.target.closest?.(".chevron-hit-area"))return;let I=i.dataset.issueId,D=i.classList.contains("project-label"),p=i.classList.contains("time-group-label"),F=i.dataset.collapseKey;if((D||p)&&F){Z(i),i.dataset.hasChildren==="true"&&O(F);return}let T=u.target.classList?.contains("issue-text")||u.target.closest(".issue-text");I&&T?(Z(i,!1,!1,!0),y.postMessage({command:"openIssue",issueId:parseInt(I,10)})):i.dataset.hasChildren==="true"&&F?(Z(i),O(F)):Z(i)}),i.addEventListener("keydown",u=>{let I=i.dataset.collapseKey,D=i.dataset.issueId?parseInt(i.dataset.issueId,10):NaN;switch(u.key){case"Enter":case" ":u.preventDefault(),isNaN(D)||y.postMessage({command:"openIssue",issueId:D});break;case"ArrowUp":{u.preventDefault();let p=J(b,-1);p&&Z(p.label,!1,!0);break}case"ArrowDown":{u.preventDefault();let p=J(b,1);p&&Z(p.label,!1,!0);break}case"ArrowLeft":if(u.preventDefault(),i.dataset.hasChildren==="true"&&i.dataset.expanded==="true")O(I,"collapse");else if(i.dataset.parentKey){let p=H.find(F=>F.dataset.collapseKey===i.dataset.parentKey);p&&Z(p,!1,!0)}break;case"ArrowRight":if(u.preventDefault(),i.dataset.hasChildren==="true"&&i.dataset.expanded==="false")O(I,"expand");else if(i.dataset.hasChildren==="true"&&i.dataset.expanded==="true"){let p=H.find(F=>F.dataset.parentKey===I&&me(F));p&&Z(p,!1,!0)}break;case"Home":{u.preventDefault();let p=J(-1,1);p&&Z(p.label,!1,!0);break}case"End":{u.preventDefault();let p=J(H.length,-1);p&&Z(p.label,!1,!0);break}case"PageDown":{u.preventDefault();let p=b,F=0;for(;F<10&&p<H.length-1;){let T=J(p,1);if(!T)break;p=T.index,F++}F>0&&Z(H[p],!1,!0);break}case"PageUp":{u.preventDefault();let p=b,F=0;for(;F<10&&p>0;){let T=J(p,-1);if(!T)break;p=T.index,F++}F>0&&Z(H[p],!1,!0);break}case"Tab":if(!u.shiftKey&&!isNaN(D)){let p=document.querySelector(`.issue-bar[data-issue-id="${D}"]`);p&&(u.preventDefault(),p.focus(),ue(`Timeline bar for issue #${D}`))}break}})})}function it(X){let{vscode:y,addDocListener:ie,menuUndo:ke,menuRedo:ue,undoStack:ae,redoStack:$,saveState:H,updateUndoRedoButtons:Q,announce:fe,scrollToAndHighlight:me,scrollToToday:J}=X;ie("keydown",c=>{let U=navigator.platform.toUpperCase().indexOf("MAC")>=0?c.metaKey:c.ctrlKey;if(!(c.target.tagName==="INPUT"||c.target.tagName==="SELECT"||c.target.tagName==="TEXTAREA"))if(U&&c.key==="z"&&!c.shiftKey)c.preventDefault(),ke?.click();else if(U&&c.key==="z"&&c.shiftKey)c.preventDefault(),ue?.click();else if(U&&c.key==="y")c.preventDefault(),ue?.click();else if(c.key>="1"&&c.key<="5"){let R=document.getElementById("zoomSelect"),O=["day","week","month","quarter","year"];R.value=O[parseInt(c.key)-1],R.dispatchEvent(new Event("change"))}else if(c.key.toLowerCase()==="h")document.getElementById("menuHeatmap")?.click();else if(c.key.toLowerCase()==="y")document.getElementById("menuCapacity")?.click();else if(c.key.toLowerCase()==="i")document.getElementById("menuIntensity")?.click();else if(c.key.toLowerCase()==="d")document.getElementById("menuDeps")?.click();else if(c.key.toLowerCase()==="v"){let R=document.getElementById("viewFocusSelect");R.value=R.value==="project"?"person":"project",R.dispatchEvent(new Event("change"))}else if(c.key.toLowerCase()==="r")document.getElementById("refreshBtn")?.click();else if(c.key.toLowerCase()==="t")J();else if(c.key.toLowerCase()==="e")document.getElementById("menuExpand")?.click();else if(c.key.toLowerCase()==="c"&&!U)document.getElementById("menuCollapse")?.click();else if(c.key.toLowerCase()==="f"&&!U)c.preventDefault(),document.getElementById("menuFilterHealth")?.click();else if(c.key.toLowerCase()==="b"){c.preventDefault();let R=Array.from(document.querySelectorAll(".issue-bar[data-issue-id]")).filter(I=>I.querySelector(".blocker-badge"));if(R.length===0){fe("No blocked issues");return}let O=document.activeElement?.closest(".issue-bar"),b=((O?R.indexOf(O):-1)+1)%R.length,u=R[b];me(u.dataset.issueId),u.focus(),fe("Blocked issue "+(b+1)+" of "+R.length)}else if(c.key==="ArrowLeft"||c.key==="ArrowRight"){let R=document.activeElement?.closest(".issue-bar:not(.parent-bar)");if(!R)return;c.preventDefault();let O=parseInt(R.dataset.issueId),i=R.dataset.startDate,b=R.dataset.dueDate;if(!i&&!b)return;let u=c.key==="ArrowRight"?1:-1,I=(F,T)=>{let E=new Date(F+"T00:00:00");return E.setDate(E.getDate()+T),E.toISOString().slice(0,10)},D=null,p=null;c.shiftKey&&b?p=I(b,u):c.altKey&&i?D=I(i,u):(i&&(D=I(i,u)),b&&(p=I(b,u))),(D||p)&&(H(),ae.push({issueId:O,oldStartDate:D?i:null,oldDueDate:p?b:null,newStartDate:D,newDueDate:p}),$.length=0,Q(),y.postMessage({command:"updateDates",issueId:O,startDate:D,dueDate:p}))}else c.key==="/"&&!U?(c.preventDefault(),Z()):(c.key==="?"||c.shiftKey&&c.key==="/")&&(c.preventDefault(),ee())});let te=null;function Z(){te&&te.remove(),te=document.createElement("div"),te.className="quick-search",te.innerHTML=`
      <input type="text" placeholder="Search issues..." autofocus />
    `,document.body.appendChild(te);let c=te.querySelector("input");c.focus();let se=Array.from(document.querySelectorAll(".issue-label"));c.addEventListener("input",()=>{let U=c.value.toLowerCase();se.forEach(R=>{let O=R.getAttribute("aria-label")?.toLowerCase()||"",i=U&&O.includes(U);R.classList.toggle("search-match",i)})}),c.addEventListener("keydown",U=>{if(U.key==="Escape")x();else if(U.key==="Enter"){let R=document.querySelector(".issue-label.search-match");R&&(x(),R.focus(),me(R.dataset.issueId))}}),c.addEventListener("blur",()=>setTimeout(x,150))}function x(){te&&(te.remove(),te=null,document.querySelectorAll(".search-match").forEach(c=>c.classList.remove("search-match")))}let S=null;function ee(){if(S){S.remove(),S=null;return}S=document.createElement("div"),S.className="keyboard-help",S.innerHTML=`
      <div class="keyboard-help-content">
        <h3>Keyboard Shortcuts</h3>
        <div class="shortcut-grid">
          <div class="shortcut-section">
            <h4>Navigation</h4>
            <div><kbd>\u2191</kbd><kbd>\u2193</kbd> Move between issues</div>
            <div><kbd>Home</kbd><kbd>End</kbd> First/last issue</div>
            <div><kbd>PgUp</kbd><kbd>PgDn</kbd> Jump 10 rows</div>
            <div><kbd>Tab</kbd> Label \u2192 Bar</div>
            <div><kbd>Shift+Tab</kbd> Bar \u2192 Label</div>
          </div>
          <div class="shortcut-section">
            <h4>Date Editing</h4>
            <div><kbd>\u2190</kbd><kbd>\u2192</kbd> Move bar \xB11 day</div>
            <div><kbd>Shift+\u2190/\u2192</kbd> Resize end</div>
            <div><kbd>Alt+\u2190/\u2192</kbd> Resize start</div>
            <div><kbd>Ctrl+Z</kbd> Undo</div>
            <div><kbd>Ctrl+Y</kbd> Redo</div>
          </div>
          <div class="shortcut-section">
            <h4>View</h4>
            <div><kbd>1-5</kbd> Zoom levels</div>
            <div><kbd>H</kbd> Heatmap</div>
            <div><kbd>D</kbd> Dependencies</div>
            <div><kbd>C</kbd> Critical path</div>
            <div><kbd>T</kbd> Today</div>
          </div>
          <div class="shortcut-section">
            <h4>Health & Other</h4>
            <div><kbd>F</kbd> Cycle health filter</div>
            <div><kbd>B</kbd> Next blocked issue</div>
            <div><kbd>/</kbd> Quick search</div>
            <div><kbd>S</kbd> Cycle sort</div>
            <div><kbd>R</kbd> Refresh</div>
            <div><kbd>Esc</kbd> Clear/cancel</div>
          </div>
        </div>
        <p class="keyboard-help-close">Press <kbd>?</kbd> or <kbd>Esc</kbd> to close</p>
      </div>
    `,document.body.appendChild(S),S.addEventListener("click",c=>{c.target===S&&ee()})}ie("keydown",c=>{c.key==="Escape"&&S&&(c.stopImmediatePropagation(),ee())})}var G=acquireVsCodeApi();function ft(X){if(!X)return;let y=document.documentElement;y.style.setProperty("--gantt-header-height",`${X.headerHeight}px`),y.style.setProperty("--gantt-label-width",`${X.labelWidth}px`),y.style.setProperty("--gantt-id-column-width",`${X.idColumnWidth}px`),y.style.setProperty("--gantt-start-date-column-width",`${X.startDateColumnWidth}px`),y.style.setProperty("--gantt-status-column-width",`${X.statusColumnWidth}px`),y.style.setProperty("--gantt-due-date-column-width",`${X.dueDateColumnWidth}px`),y.style.setProperty("--gantt-assignee-column-width",`${X.assigneeColumnWidth}px`),y.style.setProperty("--gantt-sticky-left-width",`${X.stickyLeftWidth}px`)}function dt(X){if(!X)return;let y=document.getElementById("ganttRoot");y&&(ft(X.state),y.innerHTML=X.html||"",mt(X.state))}window.addEventListener("message",X=>{let y=X.data;if(y){if(y.command==="render"){dt(y.payload);return}window.__ganttHandleExtensionMessage&&window.__ganttHandleExtensionMessage(y)}});var ct=window.__GANTT_INITIAL_PAYLOAD__;ct&&dt(ct);G.postMessage({command:"webviewReady"});function mt(X){if(!X)return;let{timelineWidth:y,minDateMs:ie,maxDateMs:ke,totalDays:ue,extendedRelationTypes:ae,redmineBaseUrl:$,minimapBarsData:H,minimapHeight:Q,minimapBarHeight:fe,minimapTodayX:me,extScrollLeft:J,extScrollTop:te,labelWidth:Z,leftExtrasWidth:x,healthFilter:S,sortBy:ee,sortOrder:c,selectedCollapseKey:se,barHeight:U,todayX:R,todayInRange:O}=X,i=y/ue;window._ganttCleanup&&window._ganttCleanup();let b=[],u=[];function I(e,t,o){document.addEventListener(e,t,o),b.push({type:e,handler:t,options:o})}function D(e,t,o){window.addEventListener(e,t,o),u.push({type:e,handler:t,options:o})}window._ganttCleanup=()=>{b.forEach(e=>document.removeEventListener(e.type,e.handler,e.options)),u.forEach(e=>window.removeEventListener(e.type,e.handler,e.options)),window.__ganttHandleExtensionMessage=null};function p(e){setTimeout(()=>{document.addEventListener("click",function t(o){e.contains(o.target)||(e.remove(),document.removeEventListener("click",t))})},0)}function F(e){return Math.round(e/i)*i}function T(e){let t=document.getElementById("liveRegion");t&&(t.textContent=e)}let E=document.getElementById("ganttScroll"),ce=document.getElementById("ganttLeftHeader"),de=document.getElementById("ganttLabels"),Me=document.getElementById("ganttTimeline"),ve=document.getElementById("menuUndo"),Ae=document.getElementById("menuRedo"),We=document.getElementById("minimapSvg"),ze=document.getElementById("minimapViewport"),{updateMinimapPosition:Oe,updateMinimapViewport:Se}=ot({timelineWidth:y,minimapBarsData:H,minimapHeight:Q,minimapBarHeight:fe,minimapTodayX:me,ganttScroll:E,minimapSvg:We,minimapViewport:ze,addDocListener:I}),re=G.getState()||{undoStack:[],redoStack:[],labelWidth:Z,scrollLeft:null,scrollTop:null,centerDateMs:null},Le=re.undoStack||[],Ee=re.redoStack||[],we=re.scrollLeft??(J>0?J:null),qe=re.scrollTop??(te>0?te:null),Ce=re.centerDateMs;function je(){if(!E)return null;let t=document.querySelector(".gantt-body .gantt-sticky-left")?.offsetWidth??0,o=E.clientWidth-t,f=(E.scrollLeft+o/2)/y;return ie+f*(ke-ie)}function z(e){if(!E)return;let o=(e-ie)/(ke-ie)*y,f=document.querySelector(".gantt-body .gantt-sticky-left")?.offsetWidth??0,q=E.clientWidth-f;E.scrollLeft=Math.max(0,o-q/2)}function ne(){G.setState({undoStack:Le,redoStack:Ee,labelWidth:de?.offsetWidth||Z,scrollLeft:null,scrollTop:E?.scrollTop??null,centerDateMs:je()})}let Re=ne;function ge(){ve&&ve.toggleAttribute("disabled",Le.length===0),Ae&&Ae.toggleAttribute("disabled",Ee.length===0),ne()}if(re.labelWidth&&ce&&de){ce.style.width=re.labelWidth+"px",de.style.width=re.labelWidth+"px";let e=document.querySelector(".capacity-ribbon-label");e&&(e.style.width=re.labelWidth+x+"px")}let m=!0,h=!1,v=e=>{h=e},w=null;E&&E.addEventListener("scroll",()=>{cancelAnimationFrame(w),w=requestAnimationFrame(()=>{Se(),m||ne()})},{passive:!0}),requestAnimationFrame(()=>ge()),window.__ganttHandleExtensionMessage=e=>{if(e.command==="setHeatmapState"){let t=document.querySelector(".heatmap-layer"),o=document.querySelector(".weekend-layer"),d=document.getElementById("menuHeatmap");e.enabled?(t&&t.classList.remove("hidden"),o&&o.classList.add("hidden"),d&&d.classList.add("active")):(t&&t.classList.add("hidden"),o&&o.classList.remove("hidden"),d&&d.classList.remove("active"))}else if(e.command==="setDependenciesState"){let t=document.querySelector(".dependency-layer"),o=document.getElementById("menuDeps");e.enabled?(t&&t.classList.remove("hidden"),o&&o.classList.add("active")):(t&&t.classList.add("hidden"),o&&o.classList.remove("active"))}else if(e.command==="setCapacityRibbonState"){let t=document.querySelector(".capacity-ribbon"),o=document.getElementById("menuCapacity");e.enabled?(t&&t.classList.remove("hidden"),o&&o.classList.add("active")):(t&&t.classList.add("hidden"),o&&o.classList.remove("active"))}else if(e.command==="pushUndoAction")Le.push(e.action),Ee.length=0,ge(),ne();else if(e.command==="updateRelationId"){let t=e.stack==="undo"?Le:Ee;if(t.length>0){let o=t[t.length-1];o.type==="relation"&&(o.relationId=e.newRelationId,ne())}}else if(e.command==="scrollToIssue"){let t=e.issueId,o=document.querySelector('.issue-label[data-issue-id="'+t+'"]'),d=document.querySelector('.issue-bar[data-issue-id="'+t+'"]'),f=document.getElementById("ganttScroll"),V=document.querySelector(".gantt-header-row")?.getBoundingClientRect().height||60;if(!f)return;let Ye=f.scrollTop,be=f.scrollLeft;if(o){let Pe=o.closest(".gantt-row");if(Pe){let _e=Pe.offsetTop,$e=Pe.getBoundingClientRect().height,Ne=f.clientHeight-V;Ye=Math.max(0,_e-V-(Ne-$e)/2)}o.focus(),o.classList.add("highlighted"),setTimeout(()=>o.classList.remove("highlighted"),2e3)}if(d){let Pe=parseFloat(d.getAttribute("data-start-x")||"0"),$e=parseFloat(d.getAttribute("data-end-x")||"0")-Pe,Ne=f.clientWidth,ut=document.querySelector(".gantt-sticky-left")?.getBoundingClientRect().width||0,at=Ne-ut;$e<=at-100?be=Pe-(at-$e)/2:be=Pe-50,be=Math.max(0,be),d.classList.add("highlighted"),setTimeout(()=>d.classList.remove("highlighted"),2e3)}f.scrollTo({left:be,top:Ye,behavior:"smooth"})}},document.getElementById("lookbackSelect")?.addEventListener("change",e=>{G.postMessage({command:"setLookback",years:e.target.value})}),document.getElementById("zoomSelect")?.addEventListener("change",e=>{Re(),G.postMessage({command:"setZoom",zoomLevel:e.target.value})}),document.getElementById("viewFocusSelect")?.addEventListener("change",e=>{G.postMessage({command:"setViewFocus",focus:e.target.value})}),document.getElementById("projectSelector")?.addEventListener("change",e=>{let t=e.target.value,o=t?parseInt(t,10):null;G.postMessage({command:"setSelectedProject",projectId:o})}),document.getElementById("focusSelector")?.addEventListener("change",e=>{let t=e.target.value;G.postMessage({command:"setSelectedAssignee",assignee:t||null})}),document.getElementById("filterAssignee")?.addEventListener("change",e=>{let t=e.target.value;G.postMessage({command:"setFilter",filter:{assignee:t}})}),document.getElementById("filterStatus")?.addEventListener("change",e=>{let t=e.target.value;G.postMessage({command:"setFilter",filter:{status:t}})}),document.getElementById("menuFilterHealth")?.addEventListener("click",()=>{let e=["all","critical","warning","healthy"],t=S,d=(e.indexOf(t)+1)%e.length;G.postMessage({command:"setHealthFilter",health:e[d]})}),document.querySelectorAll(".gantt-col-header.sortable").forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.sort;t===ee?c==="asc"?G.postMessage({command:"setSort",sortOrder:"desc"}):G.postMessage({command:"setSort",sortBy:null}):G.postMessage({command:"setSort",sortBy:t,sortOrder:"asc"})})}),document.getElementById("menuHeatmap")?.addEventListener("click",()=>{document.getElementById("menuHeatmap")?.hasAttribute("disabled")||(ne(),G.postMessage({command:"toggleWorkloadHeatmap"}))}),document.getElementById("menuCapacity")?.addEventListener("click",()=>{document.getElementById("menuCapacity")?.hasAttribute("disabled")||(ne(),G.postMessage({command:"toggleCapacityRibbon"}))}),document.getElementById("menuIntensity")?.addEventListener("click",()=>{document.getElementById("menuIntensity")?.hasAttribute("disabled")||(ne(),G.postMessage({command:"toggleIntensity"}))}),document.getElementById("overloadBadge")?.addEventListener("click",e=>{e.stopPropagation();let t=e.currentTarget,o=parseInt(t.dataset.firstOverloadMs||"0",10);o>0&&(z(o),ne())}),document.querySelectorAll(".capacity-day-bar-group").forEach(e=>{e.addEventListener("click",t=>{let o=parseInt(t.currentTarget.dataset.dateMs||"0",10);o>0&&(z(o),ne())})}),document.getElementById("menuDeps")?.addEventListener("click",()=>{ne(),G.postMessage({command:"toggleDependencies"})});let le=document.querySelector(".gantt-container");function Be(){let e=new Map,t=new Map;return document.querySelectorAll(".dependency-arrow").forEach(o=>{if(!(o.classList.contains("rel-blocks")||o.classList.contains("rel-precedes")))return;let f=o.dataset.from,q=o.dataset.to;e.has(f)||e.set(f,[]),e.get(f).push(q),t.has(q)||t.set(q,[]),t.get(q).push(f)}),{graph:e,reverseGraph:t}}let oe=null;function He(e,t,o){let d=new Set([e]),f=[e];for(;f.length>0;){let V=f.shift(),Ye=t.get(V)||[];for(let be of Ye)d.has(be)||(d.add(be),f.push(be))}let q=[e];for(;q.length>0;){let V=q.shift(),Ye=o.get(V)||[];for(let be of Ye)d.has(be)||(d.add(be),q.push(be))}return d}function j(e){if(Ve(),!e)return;oe=e;let{graph:t,reverseGraph:o}=Be(),d=He(e,t,o);le.classList.add("focus-mode"),document.querySelectorAll(".issue-bar").forEach(f=>{d.has(f.dataset.issueId)&&f.classList.add("focus-highlighted")}),document.querySelectorAll(".issue-label").forEach(f=>{d.has(f.dataset.issueId)&&f.classList.add("focus-highlighted")}),document.querySelectorAll(".dependency-arrow").forEach(f=>{d.has(f.dataset.from)&&d.has(f.dataset.to)&&f.classList.add("focus-highlighted")}),T(`Focus: ${d.size} issue${d.size!==1?"s":""} in dependency chain`)}function Ve(){oe=null,le.classList.remove("focus-mode"),document.querySelectorAll(".focus-highlighted").forEach(e=>e.classList.remove("focus-highlighted"))}let Ge=()=>oe,pe=new Set,Te=null,n=document.getElementById("selectionCount"),a=Array.from(document.querySelectorAll(".issue-bar"));function s(){a.forEach(e=>{e.classList.toggle("selected",pe.has(e.dataset.issueId))}),pe.size>0?(n.textContent=`${pe.size} selected`,n.classList.remove("hidden"),le.classList.add("multi-select-mode")):(n.classList.add("hidden"),le.classList.remove("multi-select-mode"))}function r(){pe.clear(),Te=null,s()}function l(e){pe.has(e)?pe.delete(e):pe.add(e),Te=e,s()}function L(e,t){let o=a.findIndex(V=>V.dataset.issueId===e),d=a.findIndex(V=>V.dataset.issueId===t);if(o===-1||d===-1)return;let f=Math.min(o,d),q=Math.max(o,d);for(let V=f;V<=q;V++)pe.add(a[V].dataset.issueId);s()}function A(){a.forEach(e=>pe.add(e.dataset.issueId)),s(),T(`Selected all ${pe.size} issues`)}a.forEach(e=>{e.addEventListener("mousedown",t=>{if(!t.ctrlKey&&!t.metaKey&&!t.shiftKey||t.target.classList.contains("drag-handle")||t.target.classList.contains("link-handle"))return;t.preventDefault(),t.stopPropagation();let o=e.dataset.issueId;t.shiftKey&&Te?L(Te,o):l(o)})}),I("keydown",e=>{(e.ctrlKey||e.metaKey)&&e.key==="a"&&(e.preventDefault(),A()),e.key==="Escape"&&pe.size>0&&(e.stopImmediatePropagation(),r(),T("Selection cleared"))}),document.getElementById("refreshBtn")?.addEventListener("click",()=>{document.getElementById("loadingOverlay")?.classList.add("visible"),G.postMessage({command:"refresh"})});function g(e,t,o,d,f){document.querySelector(".relation-picker")?.remove();let q=document.createElement("div");q.className="relation-picker";let V=150,Ye=100,be=Math.min(e,window.innerWidth-V-10),Pe=Math.min(t,window.innerHeight-Ye-10);q.style.left=Math.max(10,be)+"px",q.style.top=Math.max(10,Pe)+"px";let _e=document.createElement("div");_e.style.padding="6px 12px",_e.style.fontSize="11px",_e.style.opacity="0.7",_e.textContent=`#${d} \u2192 #${f}`,q.appendChild(_e);let $e=document.createElement("button");$e.textContent="\u{1F5D1}\uFE0F Delete relation",$e.addEventListener("click",()=>{ne(),G.postMessage({command:"deleteRelation",relationId:o}),q.remove()}),q.appendChild($e);let Ne=document.createElement("button");Ne.textContent="Cancel",Ne.addEventListener("click",()=>q.remove()),q.appendChild(Ne),document.body.appendChild(q),p(q)}let C=new Map,B=new Map,P=new Map,k=new Map,M=new Map,Y=!1;function De(){document.querySelectorAll(".issue-bar").forEach(e=>{let t=e.dataset.issueId;t&&(C.has(t)||C.set(t,[]),C.get(t).push(e))}),document.querySelectorAll(".issue-label").forEach(e=>{let t=e.dataset.issueId;t&&(B.has(t)||B.set(t,[]),B.get(t).push(e))}),document.querySelectorAll(".dependency-arrow").forEach(e=>{let t=e.dataset.from,o=e.dataset.to;t&&(P.has(t)||P.set(t,[]),P.get(t).push(e)),o&&(P.has(o)||P.set(o,[]),P.get(o).push(e))}),document.querySelectorAll(".project-label").forEach(e=>{let t=e.dataset.collapseKey;t&&(k.has(t)||k.set(t,[]),k.get(t).push(e))}),document.querySelectorAll(".aggregate-bars").forEach(e=>{let t=e.dataset.collapseKey;t&&(M.has(t)||M.set(t,[]),M.get(t).push(e))}),Y=!0}typeof requestIdleCallback<"u"?requestIdleCallback(()=>De(),{timeout:100}):setTimeout(De,0);let he=[];function Xe(){document.body.classList.remove("hover-focus","dependency-hover"),he.forEach(e=>e.classList.remove("hover-highlighted","hover-source")),he=[]}function Ke(e){document.body.classList.add("hover-focus");let t=Y?C.get(e)||[]:document.querySelectorAll('.issue-bar[data-issue-id="'+e+'"]'),o=Y?B.get(e)||[]:document.querySelectorAll('.issue-label[data-issue-id="'+e+'"]'),d=Y?P.get(e)||[]:document.querySelectorAll('.dependency-arrow[data-from="'+e+'"], .dependency-arrow[data-to="'+e+'"]');t.forEach(f=>{f.classList.add("hover-highlighted"),he.push(f)}),o.forEach(f=>{f.classList.add("hover-highlighted"),he.push(f)}),d.forEach(f=>{f.classList.add("hover-highlighted"),he.push(f)})}function Fe(e){document.body.classList.add("hover-focus");let t=Y?k.get(e)||[]:document.querySelectorAll('.project-label[data-collapse-key="'+e+'"]'),o=Y?M.get(e)||[]:document.querySelectorAll('.aggregate-bars[data-collapse-key="'+e+'"]');t.forEach(d=>{d.classList.add("hover-highlighted"),he.push(d)}),o.forEach(d=>{d.classList.add("hover-highlighted"),he.push(d)})}let xe=document.querySelector(".gantt-timeline svg"),ye=document.querySelector(".gantt-labels svg");if(xe&&(xe.addEventListener("mouseenter",e=>{let t=e.target.closest(".issue-bar"),o=e.target.closest(".aggregate-bars"),d=e.target.closest(".dependency-arrow");if(t){let f=t.dataset.issueId;f&&Ke(f)}else if(o){let f=o.dataset.collapseKey;f&&Fe(f)}else if(d){let f=d.dataset.from,q=d.dataset.to;document.body.classList.add("dependency-hover"),d.classList.add("hover-source"),he.push(d),f&&Ke(f),q&&Ke(q)}},!0),xe.addEventListener("mouseleave",e=>{let t=e.target.closest(".issue-bar"),o=e.target.closest(".aggregate-bars"),d=e.target.closest(".dependency-arrow");(t||o||d)&&Xe()},!0)),ye&&(ye.addEventListener("mouseenter",e=>{let t=e.target.closest(".issue-label"),o=e.target.closest(".project-label");if(t){let d=t.dataset.issueId;d&&Ke(d)}else if(o){let d=o.dataset.collapseKey;d&&Fe(d)}},!0),ye.addEventListener("mouseleave",e=>{let t=e.target.closest(".issue-label"),o=e.target.closest(".project-label");(t||o)&&Xe()},!0)),xe){let t=function(){document.querySelectorAll(".dependency-arrow.selected").forEach(o=>o.classList.remove("selected")),document.body.classList.remove("arrow-selection-mode"),document.querySelectorAll(".arrow-connected").forEach(o=>o.classList.remove("arrow-connected")),e=null};var ht=t;xe.addEventListener("contextmenu",o=>{let d=o.target.closest(".dependency-arrow");if(!d)return;o.preventDefault();let f=parseInt(d.dataset.relationId),q=d.dataset.from,V=d.dataset.to;g(o.clientX,o.clientY,f,q,V)});let e=null;xe.addEventListener("click",o=>{let d=o.target.closest(".dependency-arrow");if(e&&(e.classList.remove("selected"),document.body.classList.remove("arrow-selection-mode"),document.querySelectorAll(".arrow-connected").forEach(V=>V.classList.remove("arrow-connected")),e=null),!d)return;o.stopPropagation(),e=d,d.classList.add("selected"),document.body.classList.add("arrow-selection-mode");let f=d.dataset.from,q=d.dataset.to;document.querySelectorAll(`.issue-bar[data-issue-id="${f}"], .issue-bar[data-issue-id="${q}"]`).forEach(V=>V.classList.add("arrow-connected")),document.querySelectorAll(`.issue-label[data-issue-id="${f}"], .issue-label[data-issue-id="${q}"]`).forEach(V=>V.classList.add("arrow-connected")),T(`Selected relation from #${f} to #${q}`)}),window._ganttArrowClickHandler&&document.removeEventListener("click",window._ganttArrowClickHandler),window._ganttArrowClickHandler=o=>{(e||document.querySelector(".dependency-arrow.selected"))&&!o.target.closest(".dependency-arrow")&&!o.target.closest(".blocks-badge-group")&&!o.target.closest(".blocker-badge")&&t()},document.addEventListener("click",window._ganttArrowClickHandler),window._ganttArrowKeyHandler&&document.removeEventListener("keydown",window._ganttArrowKeyHandler),window._ganttArrowKeyHandler=o=>{let d=e||document.querySelector(".dependency-arrow.selected");o.key==="Escape"&&d&&(o.stopImmediatePropagation(),t())},document.addEventListener("keydown",window._ganttArrowKeyHandler)}rt({vscode:G,menuUndo:ve,menuRedo:Ae,addDocListener:I,closeOnOutsideClick:p,announce:T,saveState:ne,updateUndoRedoButtons:ge,undoStack:Le,redoStack:Ee,selectedIssues:pe,clearSelection:r,allIssueBars:a,redmineBaseUrl:$,extendedRelationTypes:ae,minDateMs:ie,maxDateMs:ke,timelineWidth:y,dayWidth:i,barHeight:U,ganttScroll:E,snapToDay:F,focusOnDependencyChain:j,clearFocus:Ve,getFocusedIssueId:Ge,scrollToAndHighlight:_,setAllowScrollChange:v}),lt({vscode:G,addDocListener:I,addWinListener:D,announce:T,barHeight:U,selectedCollapseKey:se});function K(){if(!O){G.postMessage({command:"todayOutOfRange"});return}if(E){let t=document.querySelector(".gantt-body .gantt-sticky-left")?.offsetWidth??0,o=E.clientWidth-t;E.scrollLeft=Math.max(0,R-o/2)}}function _(e){if(!e)return;h=!0;let t=document.querySelector('.issue-label[data-issue-id="'+e+'"]'),o=document.querySelector('.issue-bar[data-issue-id="'+e+'"]');if(t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.classList.add("highlighted"),setTimeout(()=>t.classList.remove("highlighted"),1500)),o&&E){let d=o.getBoundingClientRect(),f=E.getBoundingClientRect(),q=E.scrollLeft+d.left-f.left-100;E.scrollTo({left:Math.max(0,q),behavior:"smooth"}),o.classList.add("highlighted"),setTimeout(()=>o.classList.remove("highlighted"),1500)}}it({vscode:G,addDocListener:I,menuUndo:ve,menuRedo:Ae,undoStack:Le,redoStack:Ee,saveState:ne,updateUndoRedoButtons:ge,announce:T,scrollToAndHighlight:_,scrollToToday:K}),requestAnimationFrame(()=>{if(Ce!==null&&E){let e=Math.max(ie,Math.min(ke,Ce));z(e),qe!==null&&(E.scrollTop=qe),Ce=null,qe=null}else we!==null&&E?(E.scrollLeft=we,qe!==null&&(E.scrollTop=qe),we=null,qe=null):K();Se(),m=!1}),document.getElementById("todayBtn")?.addEventListener("click",K);let Ie=document.getElementById("resizeHandle"),Ue=document.getElementById("resizeHandleHeader"),Je=!1,tt=0,st=0,Ze=null;function nt(e,t){Je=!0,Ze=t,tt=e.clientX,st=de.offsetWidth,t.classList.add("dragging"),document.body.classList.add("cursor-col-resize","user-select-none"),e.preventDefault()}Ie?.addEventListener("mousedown",e=>nt(e,Ie)),Ue?.addEventListener("mousedown",e=>nt(e,Ue));let Qe=!1,et=null;I("mousemove",e=>{Je&&(et=e,!Qe&&(Qe=!0,requestAnimationFrame(()=>{if(Qe=!1,!et)return;let t=et.clientX-tt,o=Math.min(600,Math.max(120,st+t));if(ce&&(ce.style.width=o+"px"),de){de.style.width=o+"px";let f=de.querySelector("svg");f&&f.setAttribute("width",String(o))}let d=document.querySelector(".capacity-ribbon-label");d&&(d.style.width=o+x+"px"),Oe()})))}),I("mouseup",()=>{Je&&(Je=!1,Ze?.classList.remove("dragging"),Ze=null,document.body.classList.remove("cursor-col-resize","user-select-none"),ne())}),requestAnimationFrame(()=>{document.getElementById("loadingOverlay")?.classList.remove("visible")})}})();
